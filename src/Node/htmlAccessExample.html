<html>
	<script src="crypt.js"></script>
	<script>

		var xmlhttp = new XMLHttpRequest();
		var responseGet;
		
		xmlhttp.onreadystatechange=function() {
			if (xmlhttp.readyState==4 && xmlhttp.status==200) {
				showResult(xmlhttp.responseText);
			}
		}
	 
		function sendHttpGetUsers(){
			xmlhttp.open("GET", "http://localhost:9000/getusers", false);
			xmlhttp.send();
		}
		
		function sendHttpGetDevices(){
			xmlhttp.open("GET", "http://localhost:9000/getdevices", false);
			xmlhttp.send();
		}
		
		function sendHttpPostUser(){
			var cryptedPass = convertToMD5(document.getElementById("pass").value);
			xmlhttp.open("POST", "http://localhost:9000/adduser?name=bruno&login=brunoffp&pass="+cryptedPass+"&devices=0,1,2&email=brunofpaiwa@gmail.com", true);
			xmlhttp.send();
		}
		
		function sendHttpCheckLogin(){
			var cryptedPass = convertToMD5(document.getElementById("pass").value);
			xmlhttp.open("GET", "http://localhost:9000/checklogin/?login=brunoffp&pass="+cryptedPass, false);
			xmlhttp.send();
		}
		
		function removeUser(){
			xmlhttp.open("DELETE", "http://localhost:9000/removeuser?login=brunoffp", true);
			xmlhttp.send();
		}
		
		function updateUserDevices(){
			xmlhttp.open("POST", "http://localhost:9000/updatedevices?login=brunoffp&devices=0,2", true);
			xmlhttp.send();
		}
		
		function showResult(res){
			alert(res);
		}
	
	</script>
	  
		<!-- HERE STARTS THE SIMPLE CSS CODE! -->
				
	<style> 
		.title {
			color:blue; 
			text-indent:50px;
			font-size:300%;
			border-width: 3;
			border: solid;
		} 
		  
		.paragrafo {
			text-align:center;
			text-decoration:underline;
			font-size:140%;
			line-height:500%;
		}
		
		.nome {
			color:blue; 
			text-align:center; 
			font-size:150%
		}
	</style>

	<style type="text/css">
		body {
			color: purple;
			background-color: #d8da3d 
		}
	</style>

	<!-- HERE IS THE END OF CSS CODE! -->
  
	<body>
		<h1 class="title">Pagina Exemplo de Acesso ao Servidor Node</h1>
		<p class="paragrafo">Ola, voce acessou o nosso servidor</p>
		<p class="nome">Autor: Bruno Fabio de Farias Paiva</p>
		<div align="center"><input  type="button" value="checklogin" onclick="javascript:sendHttpCheckLogin()"></div>
		<div align="center"><input  type="button" value="get users" onclick="javascript:sendHttpGetUsers()"></div>
		<div align="center"><input  type="button" value="get devices" onclick="javascript:sendHttpGetDevices()"></div>
		<div align="center"><input  type="button" value="post data" onclick="javascript:sendHttpPostUser()"></div>
		<div align="center"><input  type="button" value="remove user" onclick="javascript:removeUser()"></div>
		<div align="center"><input  type="button" value="updateUserDevices" onclick="javascript:updateUserDevices()"></div>
		<input name="pass" id="pass" type="password">
	</body>
  
</html>
